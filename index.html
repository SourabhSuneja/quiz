<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Quiz</title>
<style>
  body {
    background-color: black;
    color: white;
    font-family: Arial, sans-serif;
    font-size: 18px;
  }
  .container {
    max-width: 600px;
    margin: 50px auto;
    padding: 20px;
    border: 2px solid white;
    border-radius: 10px;
    text-align: center;
  }
  h1 {
    text-align: center;
    font-size: 24px;
  }
  .question {
    margin-bottom: 20px;
    font-size: 20px;
  }
  .buttons {
    display: flex;
    justify-content: center;
    flex-wrap: wrap;
  }
  button {
    margin: 10px;
    padding: 10px 20px;
    background-color: #1E90FF; /* Dark blue shade */
    color: white;
    border: none;
    border-radius: 5px;
    cursor: pointer;
    transition: background-color 0.3s;
    font-size: 18px;
  }
  button:hover {
    background-color: #4682B4; /* Lighter shade on hover */
  }
  footer {
    margin-top: 20px;
    font-size: 14px;
  }
</style>
</head>
<body>

<div class="container">
  <h1>Quiz</h1>
  <div class="question">
    <p id="questionText"></p>
    <p id="studentName"></p>
  </div>
  <div class="buttons">
    <button id="correctBtn" onclick="answeredCorrectly()">Answered correctly</button>
    <button id="incorrectBtn" onclick="answeredIncorrectly()">Couldn't answer correctly</button>
    <button id="pickAnotherBtn" onclick="pickAnotherStudent()">Pick another student</button>
  </div>
  <footer id="footerText"></footer>
</div>

<script>
  // Function to initialize quiz
  async function initializeQuiz() {
    try {
      const studentsFileName = prompt("Enter the file name for students data (e.g., students.txt):");
      const questionsFileName = prompt("Enter the file name for questions data (e.g., questions.txt):");
      if (!studentsFileName || !questionsFileName) {
        throw new Error("Invalid file names");
      }
      const studentsData = await fetchData(studentsFileName);
      const questionsData = await fetchData(questionsFileName);
      startQuiz(studentsData, questionsData);
    } catch (error) {
      console.error(error.message);
    }
  }

  // Function to fetch data from a file using AJAX and return a promise
  function fetchData(fileName) {
    return new Promise((resolve, reject) => {
      const xhr = new XMLHttpRequest();
      xhr.onreadystatechange = function() {
        if (xhr.readyState === XMLHttpRequest.DONE) {
          if (xhr.status === 200) {
            const data = xhr.responseText.split('\n').map(item => item.trim()).filter(item => item !== '');
            resolve(data);
          } else {
            reject(new Error("Failed to load data"));
          }
        }
      };
      xhr.open("GET", fileName, true);
      xhr.send();
    });
  }

  // Function to start the quiz after questions and students are loaded
  function startQuiz(students, questions) {
    window.students = students;
    window.questions = questions;
    displayQuestion();
  }

  // Function to display question and student name
  function displayQuestion() {
    if (!window.students || !window.questions) {
      console.log("Students or questions data not loaded.");
      return;
    }
    const questionText = document.getElementById("questionText");
    const studentName = document.getElementById("studentName");
    questionText.textContent = window.questions[0];
    let randomStudent = pickRandomStudent();
    studentName.textContent = "Question for " + randomStudent;
  }

  // Function to pick a random student, ensuring they are not absent
  function pickRandomStudent() {
    let randomStudentIndex;
    do {
      randomStudentIndex = Math.floor(Math.random() * window.students.length);
      var randomStudent = window.students[randomStudentIndex];
    } while (absentStudents.includes(randomStudent));
    return randomStudent;
  }

  // Function to handle correct answer
  function answeredCorrectly() {
    // Add your logic here
  }

  // Function to handle incorrect answer
  function answeredIncorrectly() {
    // Add your logic here
  }

  // Function to pick another student
  function pickAnotherStudent() {
    // Add your logic here
  }

  // Function to move to the next question
  function nextQuestion() {
    // Add your logic here
  }

  // Function to display scores
  function displayScores() {
    // Add your logic here
  }

  // Array to store absent students
  let absentStudents = [];

  // Initialize quiz when the page loads
  window.onload = initializeQuiz;
</script>

</body>
</html>